<xml xmlns="https://developers.google.com/blockly/xml"><variables></variables><block type="pxt-on-start" id="NV0b!HB5_FPjb?hWtiO[" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="U:hW3FTIz#n_MmGu,xV7"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace asobotcar {" line1="" line2="    // グローバル変数として調整量を宣言（初期値0）" line3="    let Adjust_percent: number = 0;" line4="" line5="    //% block=&quot;バランス調整%value|左補正：-10～10：右補正&quot;" line6="    //% value.defl=0" line7="    export function setAdjustPercent(value: number) {" line8="        // 入力値を制限" line9="        Adjust_percent = Math.max(-10, Math.min(10, value));" line10="    }" line11="" line12="    //% block=&quot;停止&quot;" line13="    export function stop() {" line14="        pins.servoWritePin(AnalogPin.P8, 90);" line15="        pins.servoWritePin(AnalogPin.P15, 90);" line16="    }" line17="" line18="    //% block=&quot;左回転|%forward_percent|％（0～100）&quot;" line19="    //% forward_percent.defl=50" line20="    export function left(forward_percent: number = 50) {" line21="        // 入力値を制限" line22="        forward_percent = Math.max(0, Math.min(100, forward_percent));" line23="" line24="        // 左右のモーター速度を計算" line25="        let leftSpeed = 90 - (80 * forward_percent / 100) + Adjust_percent;  // 左モーター" line26="        let rightSpeed = 90 - (80 * forward_percent / 100) + Adjust_percent; // 右モーター" line27="" line28="        // 範囲制限（モーターの値が0～180を超えないようにする）" line29="        leftSpeed = Math.max(0, Math.min(180, leftSpeed));" line30="        rightSpeed = Math.max(0, Math.min(180, rightSpeed));" line31="" line32="        // サーボモーターに送信" line33="        pins.servoWritePin(AnalogPin.P8, leftSpeed);" line34="        pins.servoWritePin(AnalogPin.P15, rightSpeed);" line35="    }" line36="" line37="    //% block=&quot;左旋回|%forward_percent|％の速度で|%turn_percent|％の左旋回&quot;" line38="    //% forward_percent.defl=50 turn_percent.defl=50" line39="    export function turn_left(forward_percent: number = 50, turn_percent: number = 50) {" line40="        // 入力値を制限" line41="        forward_percent = Math.max(0, Math.min(100, forward_percent));" line42="" line43="        // 左右のモーター速度を計算" line44="        let leftSpeed2 = 90 - (80 * forward_percent / 100) * (forward_percent) + Adjust_percent;  // 左モーター" line45="        let rightSpeed2 = 90 + (80 * forward_percent / 100) + Adjust_percent; // 右モーター" line46="" line47="        // 範囲制限（モーターの値が0～180を超えないようにする）" line48="        leftSpeed2 = Math.max(0, Math.min(180, leftSpeed2));" line49="        rightSpeed2 = Math.max(0, Math.min(180, rightSpeed2));" line50="" line51="        // サーボモーターに送信" line52="        pins.servoWritePin(AnalogPin.P8, leftSpeed2);" line53="        pins.servoWritePin(AnalogPin.P15, rightSpeed2);" line54="    }" line55="" line56="    //% block=&quot;右回転|%forward_percent|％（0～100）&quot;" line57="    //% forward_percent.defl=50" line58="    export function right(forward_percent: number = 50) {" line59="        // 入力値を制限" line60="        forward_percent = Math.max(0, Math.min(100, forward_percent));" line61="" line62="        // 左右のモーター速度を計算" line63="        let leftSpeed3 = 90 + (80 * forward_percent / 100) + Adjust_percent;  // 左モーター" line64="        let rightSpeed3 = 90 + (80 * forward_percent / 100) + Adjust_percent; // 右モーター" line65="" line66="        // 範囲制限（モーターの値が0～180を超えないようにする）" line67="        leftSpeed3 = Math.max(0, Math.min(180, leftSpeed3));" line68="        rightSpeed3 = Math.max(0, Math.min(180, rightSpeed3));" line69="" line70="        // サーボモーターに送信" line71="        pins.servoWritePin(AnalogPin.P8, leftSpeed3);" line72="        pins.servoWritePin(AnalogPin.P15, rightSpeed3);" line73="    }" line74="" line75="    //% block=&quot;右旋回|%forward_percent|％の速度で|%turn_percent|％の右旋回&quot;" line76="    //% forward_percent.defl=50 turn_percent.defl=50" line77="    export function turn_right(forward_percent: number = 50, turn_percent: number = 50) {" line78="        // 入力値を制限" line79="        forward_percent = Math.max(0, Math.min(100, forward_percent));" line80="" line81="        // 左右のモーター速度を計算" line82="        let leftSpeed4 = 90 - (80 * forward_percent / 100) + Adjust_percent;  // 左モーター" line83="        let rightSpeed4 = 90 + (80 * forward_percent / 100) * (forward_percent) + Adjust_percent; // 右モーター" line84="" line85="        // 範囲制限（モーターの値が0～180を超えないようにする）" line86="        leftSpeed4 = Math.max(0, Math.min(180, leftSpeed4));" line87="        rightSpeed4 = Math.max(0, Math.min(180, rightSpeed4));" line88="" line89="        // サーボモーターに送信" line90="        pins.servoWritePin(AnalogPin.P8, leftSpeed4);" line91="        pins.servoWritePin(AnalogPin.P15, rightSpeed4);" line92="    }" line93="" line94="    //% block=&quot;後退|%back_percent|％（0～100）&quot;" line95="    //% back_percent.defl=50" line96="    export function back(back_percent: number = 50) {" line97="        // 入力値を制限" line98="        back_percent = Math.max(0, Math.min(100, back_percent));" line99="" line100="        // 左右のモーター速度を計算" line101="        let leftSpeed5 = 90 + (80 * back_percent / 100) - Adjust_percent;  // 左モーター" line102="        let rightSpeed5 = 90 - (80 * back_percent / 100) - Adjust_percent; // 右モーター" line103="" line104="        // 範囲制限（モーターの値が0～180を超えないようにする）" line105="        leftSpeed5 = Math.max(0, Math.min(180, leftSpeed5));" line106="        rightSpeed5 = Math.max(0, Math.min(180, rightSpeed5));" line107="" line108="        // サーボモーターに送信" line109="        pins.servoWritePin(AnalogPin.P8, leftSpeed5);" line110="        pins.servoWritePin(AnalogPin.P15, rightSpeed5);" line111="    }" line112="" line113="    //% block=&quot;前進|%forward_percent|％（0～100）&quot;" line114="    //% forward_percent.defl=50" line115="    export function forward(forward_percent: number = 50) {" line116="        // 入力値を制限" line117="        forward_percent = Math.max(0, Math.min(100, forward_percent));" line118="" line119="        // 左右のモーター速度を計算" line120="        let leftSpeed6 = 90 - (80 * forward_percent / 100) + Adjust_percent;  // 左モーター" line121="        let rightSpeed6 = 90 + (80 * forward_percent / 100) + Adjust_percent; // 右モーター" line122="" line123="        // 範囲制限（モーターの値が0～180を超えないようにする）" line124="        leftSpeed6 = Math.max(0, Math.min(180, leftSpeed6));" line125="        rightSpeed6 = Math.max(0, Math.min(180, rightSpeed6));" line126="" line127="        // サーボモーターに送信" line128="        pins.servoWritePin(AnalogPin.P8, leftSpeed6);" line129="        pins.servoWritePin(AnalogPin.P15, rightSpeed6);" line130="    }" line131="}" numlines="132"></mutation></block></statement></block></xml>